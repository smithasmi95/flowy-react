{"ast":null,"code":"export var flowy = function (e, t, l, i, n, o, r) {\n  t || (t = function () {}), l || (l = function () {}), i || (i = function () {\n    return !0;\n  }), n || (n = function () {\n    return !1;\n  }), o || (o = 20), r || (r = 80), Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector), Element.prototype.closest || (Element.prototype.closest = function (e) {\n    var t = this;\n\n    do {\n      if (Element.prototype.matches.call(t, e)) return t;\n      t = t.parentElement || t.parentNode;\n    } while (null !== t && 1 === t.nodeType);\n\n    return null;\n  });\n  var d = !1;\n\n  function c(e, t, l) {\n    return i(e, t, l);\n  }\n\n  function a(e, t) {\n    return n(e, t);\n  }\n\n  flowy.load = function () {\n    if (!d) {\n      d = !0;\n      var i = [],\n          n = [],\n          s = e,\n          u = 0,\n          p = 0;\n      \"absolute\" != window.getComputedStyle(s).position && \"fixed\" != window.getComputedStyle(s).position || (u = s.getBoundingClientRect().left, p = s.getBoundingClientRect().top);\n      var g,\n          w,\n          f,\n          h,\n          y,\n          C,\n          v = !1,\n          m = o,\n          B = r,\n          x = 0,\n          R = !1,\n          S = !1,\n          b = 0,\n          L = document.createElement(\"DIV\");\n      L.classList.add(\"indicator\"), L.classList.add(\"invisible\"), s.appendChild(L), flowy.import = function (e) {\n        s.innerHTML = e.html;\n\n        for (var t = 0; t < e.blockarr.length; t++) i.push({\n          childwidth: parseFloat(e.blockarr[t].childwidth),\n          parent: parseFloat(e.blockarr[t].parent),\n          id: parseFloat(e.blockarr[t].id),\n          x: parseFloat(e.blockarr[t].x),\n          y: parseFloat(e.blockarr[t].y),\n          width: parseFloat(e.blockarr[t].width),\n          height: parseFloat(e.blockarr[t].height)\n        });\n\n        i.length > 1 && (D(), E());\n      }, flowy.output = function () {\n        var e = {\n          html: s.innerHTML,\n          blockarr: i,\n          blocks: []\n        };\n\n        if (i.length > 0) {\n          for (var t = 0; t < i.length; t++) {\n            e.blocks.push({\n              id: i[t].id,\n              parent: i[t].parent,\n              data: [],\n              attr: []\n            });\n            var l = document.querySelector(\".blockid[value='\" + i[t].id + \"']\").parentNode;\n            l.querySelectorAll(\"input\").forEach(function (l) {\n              var i = l.getAttribute(\"name\"),\n                  n = l.value;\n              e.blocks[t].data.push({\n                name: i,\n                value: n\n              });\n            }), Array.prototype.slice.call(l.attributes).forEach(function (l) {\n              var i = {};\n              i[l.name] = l.value, e.blocks[t].attr.push(i);\n            });\n          }\n\n          return e;\n        }\n      }, flowy.deleteBlocks = function () {\n        i = [], s.innerHTML = \"<div class='indicator invisible'></div>\";\n      }, flowy.beginDrag = function (e) {\n        if (\"absolute\" != window.getComputedStyle(s).position && \"fixed\" != window.getComputedStyle(s).position || (u = s.getBoundingClientRect().left, p = s.getBoundingClientRect().top), e.targetTouches ? (y = e.changedTouches[0].clientX, C = e.changedTouches[0].clientY) : (y = e.clientX, C = e.clientY), 3 != e.which && e.target.closest(\".create-flowy\")) {\n          h = e.target.closest(\".create-flowy\");\n          var l = e.target.closest(\".create-flowy\").cloneNode(!0);\n          e.target.closest(\".create-flowy\").classList.add(\"dragnow\"), l.classList.add(\"block\"), l.classList.remove(\"create-flowy\"), 0 === i.length ? (l.innerHTML += \"<input type='hidden' name='blockid' class='blockid' value='\" + i.length + \"'>\", document.body.appendChild(l), g = document.querySelector(\".blockid[value='\" + i.length + \"']\").parentNode) : (l.innerHTML += \"<input type='hidden' name='blockid' class='blockid' value='\" + (Math.max.apply(Math, i.map(e => e.id)) + 1) + \"'>\", document.body.appendChild(l), g = document.querySelector(\".blockid[value='\" + (parseInt(Math.max.apply(Math, i.map(e => e.id))) + 1) + \"']\").parentNode), n = e.target.closest(\".create-flowy\"), t(n), g.classList.add(\"dragging\"), v = !0, w = y - e.target.closest(\".create-flowy\").getBoundingClientRect().left, f = C - e.target.closest(\".create-flowy\").getBoundingClientRect().top, g.style.left = y - w + \"px\", g.style.top = C - f + \"px\";\n        }\n\n        var n;\n      }, flowy.endDrag = function (e) {\n        if (3 != e.which && (v || R)) if (S = !1, l(), document.querySelector(\".indicator\").classList.contains(\"invisible\") || document.querySelector(\".indicator\").classList.add(\"invisible\"), v && (h.classList.remove(\"dragnow\"), g.classList.remove(\"dragging\")), 0 === parseInt(g.querySelector(\".blockid\").value) && R) X(\"rearrange\");else if (v && 0 == i.length && g.getBoundingClientRect().top + window.scrollY > s.getBoundingClientRect().top + window.scrollY && g.getBoundingClientRect().left + window.scrollX > s.getBoundingClientRect().left + window.scrollX) X(\"drop\");else if (v && 0 == i.length) q();else if (v) for (var t = i.map(e => e.id), o = 0; o < i.length; o++) {\n          if (k(t[o])) {\n            v = !1, c(g, !1, document.querySelector(\".blockid[value='\" + t[o] + \"']\").parentNode) ? T(g, o, t) : (v = !1, q());\n            break;\n          }\n\n          o == i.length - 1 && (v = !1, q());\n        } else if (R) for (t = i.map(e => e.id), o = 0; o < i.length; o++) {\n          if (k(t[o])) {\n            v = !1, g.classList.remove(\"dragging\"), T(g, o, t);\n            break;\n          }\n\n          if (o == i.length - 1) {\n            if (a(g, i.filter(e => e.id == t[o])[0])) {\n              v = !1, g.classList.remove(\"dragging\"), T(g, t.indexOf(b), t);\n              break;\n            }\n\n            R = !1, n = [], v = !1, q();\n            break;\n          }\n        }\n      }, flowy.moveBlock = function (e) {\n        if (e.targetTouches ? (y = e.targetTouches[0].clientX, C = e.targetTouches[0].clientY) : (y = e.clientX, C = e.clientY), S) {\n          R = !0, g.classList.add(\"dragging\");\n          var t = parseInt(g.querySelector(\".blockid\").value);\n          b = i.filter(e => e.id == t)[0].parent, n.push(i.filter(e => e.id == t)[0]), i = i.filter(function (e) {\n            return e.id != t;\n          }), 0 != t && document.querySelector(\".arrowid[value='\" + t + \"']\").parentNode.remove();\n\n          for (var l = i.filter(e => e.parent == t), o = !1, r = [], d = []; !o;) {\n            for (var c = 0; c < l.length; c++) if (l[c] != t) {\n              n.push(i.filter(e => e.id == l[c].id)[0]);\n              const e = document.querySelector(\".blockid[value='\" + l[c].id + \"']\").parentNode,\n                    t = document.querySelector(\".arrowid[value='\" + l[c].id + \"']\").parentNode;\n              e.style.left = e.getBoundingClientRect().left + window.scrollX - (g.getBoundingClientRect().left + window.scrollX) + \"px\", e.style.top = e.getBoundingClientRect().top + window.scrollY - (g.getBoundingClientRect().top + window.scrollY) + \"px\", t.style.left = t.getBoundingClientRect().left + window.scrollX - (g.getBoundingClientRect().left + window.scrollX) + \"px\", t.style.top = t.getBoundingClientRect().top + window.scrollY - (g.getBoundingClientRect().top + window.scrollY) + \"px\", g.appendChild(e), g.appendChild(t), r.push(l[c].id), d.push(l[c].id);\n            }\n\n            0 == r.length ? o = !0 : (l = i.filter(e => r.includes(e.parent)), r = []);\n          }\n\n          for (c = 0; c < i.filter(e => e.parent == t).length; c++) {\n            var a = i.filter(e => e.parent == t)[c];\n            i = i.filter(function (e) {\n              return e.id != a;\n            });\n          }\n\n          for (c = 0; c < d.length; c++) {\n            a = d[c];\n            i = i.filter(function (e) {\n              return e.id != a;\n            });\n          }\n\n          i.length > 1 && D(), S = !1;\n        }\n\n        if (v ? (g.style.left = y - w + \"px\", g.style.top = C - f + \"px\") : R && (g.style.left = y - w - (window.scrollX + u) + s.scrollLeft + \"px\", g.style.top = C - f - (window.scrollY + p) + s.scrollTop + \"px\", n.filter(e => e.id == parseInt(g.querySelector(\".blockid\").value)).x = g.getBoundingClientRect().left + window.scrollX + parseInt(window.getComputedStyle(g).width) / 2 + s.scrollLeft, n.filter(e => e.id == parseInt(g.querySelector(\".blockid\").value)).y = g.getBoundingClientRect().top + window.scrollY + parseInt(window.getComputedStyle(g).height) / 2 + s.scrollTop), v || R) {\n          y > s.getBoundingClientRect().width + s.getBoundingClientRect().left - 10 && y < s.getBoundingClientRect().width + s.getBoundingClientRect().left + 10 ? s.scrollLeft += 10 : y < s.getBoundingClientRect().left + 10 && y > s.getBoundingClientRect().left - 10 ? s.scrollLeft -= 10 : C > s.getBoundingClientRect().height + s.getBoundingClientRect().top - 10 && C < s.getBoundingClientRect().height + s.getBoundingClientRect().top + 10 ? s.scrollTop += 10 : C < s.getBoundingClientRect().top + 10 && C > s.getBoundingClientRect().top - 10 && (s.scrollLeft -= 10);\n          g.getBoundingClientRect().left, window.scrollX, parseInt(window.getComputedStyle(g).width), s.scrollLeft, s.getBoundingClientRect().left, g.getBoundingClientRect().top, window.scrollY, s.scrollTop, s.getBoundingClientRect().top;\n          var h = i.map(e => e.id);\n\n          for (c = 0; c < i.length; c++) {\n            if (k(h[c])) {\n              document.querySelector(\".blockid[value='\" + h[c] + \"']\").parentNode.appendChild(document.querySelector(\".indicator\")), document.querySelector(\".indicator\").style.left = document.querySelector(\".blockid[value='\" + h[c] + \"']\").parentNode.offsetWidth / 2 - 5 + \"px\", document.querySelector(\".indicator\").style.top = document.querySelector(\".blockid[value='\" + h[c] + \"']\").parentNode.offsetHeight + \"px\", document.querySelector(\".indicator\").classList.remove(\"invisible\");\n              break;\n            }\n\n            c == i.length - 1 && (document.querySelector(\".indicator\").classList.contains(\"invisible\") || document.querySelector(\".indicator\").classList.add(\"invisible\"));\n          }\n        }\n      }, document.addEventListener(\"mousedown\", flowy.beginDrag), document.addEventListener(\"mousedown\", Y, !1), document.addEventListener(\"touchstart\", flowy.beginDrag), document.addEventListener(\"touchstart\", Y, !1), document.addEventListener(\"mouseup\", Y, !1), document.addEventListener(\"mousemove\", flowy.moveBlock, !1), document.addEventListener(\"touchmove\", flowy.moveBlock, !1), document.addEventListener(\"mouseup\", flowy.endDrag, !1), document.addEventListener(\"touchend\", flowy.endDrag, !1);\n    }\n\n    function k(e) {\n      const t = g.getBoundingClientRect().left + window.scrollX + parseInt(window.getComputedStyle(g).width) / 2 + s.scrollLeft - s.getBoundingClientRect().left,\n            l = g.getBoundingClientRect().top + window.scrollY + s.scrollTop - s.getBoundingClientRect().top;\n      return t >= i.filter(t => t.id == e)[0].x - i.filter(t => t.id == e)[0].width / 2 - m && t <= i.filter(t => t.id == e)[0].x + i.filter(t => t.id == e)[0].width / 2 + m && l >= i.filter(t => t.id == e)[0].y - i.filter(t => t.id == e)[0].height / 2 && l <= i.filter(t => t.id == e)[0].y + i.filter(t => t.id == e)[0].height;\n    }\n\n    function q() {\n      s.appendChild(document.querySelector(\".indicator\")), g.parentNode.removeChild(g);\n    }\n\n    function X(e) {\n      if (\"drop\" == e) c(g, !0, void 0), v = !1, g.style.top = g.getBoundingClientRect().top + window.scrollY - (p + window.scrollY) + s.scrollTop + \"px\", g.style.left = g.getBoundingClientRect().left + window.scrollX - (u + window.scrollX) + s.scrollLeft + \"px\", s.appendChild(g), i.push({\n        parent: -1,\n        childwidth: 0,\n        id: parseInt(g.querySelector(\".blockid\").value),\n        x: g.getBoundingClientRect().left + window.scrollX + parseInt(window.getComputedStyle(g).width) / 2 + s.scrollLeft - s.getBoundingClientRect().left,\n        y: g.getBoundingClientRect().top + window.scrollY + parseInt(window.getComputedStyle(g).height) / 2 + s.scrollTop - s.getBoundingClientRect().top,\n        width: parseInt(window.getComputedStyle(g).width),\n        height: parseInt(window.getComputedStyle(g).height)\n      });else if (\"rearrange\" == e) {\n        g.classList.remove(\"dragging\"), R = !1;\n\n        for (var t = 0; t < n.length; t++) if (n[t].id != parseInt(g.querySelector(\".blockid\").value)) {\n          const e = document.querySelector(\".blockid[value='\" + n[t].id + \"']\").parentNode,\n                l = document.querySelector(\".arrowid[value='\" + n[t].id + \"']\").parentNode;\n          e.style.left = e.getBoundingClientRect().left + window.scrollX - window.scrollX + s.scrollLeft - 1 - u + \"px\", e.style.top = e.getBoundingClientRect().top + window.scrollY - window.scrollY + s.scrollTop - p - 1 + \"px\", l.style.left = l.getBoundingClientRect().left + window.scrollX - window.scrollX + s.scrollLeft - u - 1 + \"px\", l.style.top = l.getBoundingClientRect().top + window.scrollY + s.scrollTop - 1 - p + \"px\", s.appendChild(e), s.appendChild(l), n[t].x = e.getBoundingClientRect().left + window.scrollX + parseInt(e.offsetWidth) / 2 + s.scrollLeft - s.getBoundingClientRect().left - 1, n[t].y = e.getBoundingClientRect().top + window.scrollY + parseInt(e.offsetHeight) / 2 + s.scrollTop - s.getBoundingClientRect().top - 1;\n        }\n\n        n.filter(e => 0 == e.id)[0].x = g.getBoundingClientRect().left + window.scrollX + parseInt(window.getComputedStyle(g).width) / 2 + s.scrollLeft - s.getBoundingClientRect().left, n.filter(e => 0 == e.id)[0].y = g.getBoundingClientRect().top + window.scrollY + parseInt(window.getComputedStyle(g).height) / 2 + s.scrollTop - s.getBoundingClientRect().top, i = i.concat(n), n = [];\n      }\n    }\n\n    function I(e, t, l, n) {\n      t < 0 ? (s.innerHTML += '<div class=\"arrowblock\"><input type=\"hidden\" class=\"arrowid\" value=\"' + g.querySelector(\".blockid\").value + '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M' + (i.filter(e => e.id == n)[0].x - e.x + 5) + \" 0L\" + (i.filter(e => e.id == n)[0].x - e.x + 5) + \" \" + B / 2 + \"L5 \" + B / 2 + \"L5 \" + l + '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M0 ' + (l - 5) + \"H10L5 \" + l + \"L0 \" + (l - 5) + 'Z\" fill=\"#C5CCD0\"/></svg></div>', document.querySelector('.arrowid[value=\"' + g.querySelector(\".blockid\").value + '\"]').parentNode.style.left = e.x - 5 - (u + window.scrollX) + s.scrollLeft + s.getBoundingClientRect().left + \"px\") : (s.innerHTML += '<div class=\"arrowblock\"><input type=\"hidden\" class=\"arrowid\" value=\"' + g.querySelector(\".blockid\").value + '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 0L20 ' + B / 2 + \"L\" + t + \" \" + B / 2 + \"L\" + t + \" \" + l + '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M' + (t - 5) + \" \" + (l - 5) + \"H\" + (t + 5) + \"L\" + t + \" \" + l + \"L\" + (t - 5) + \" \" + (l - 5) + 'Z\" fill=\"#C5CCD0\"/></svg></div>', document.querySelector('.arrowid[value=\"' + parseInt(g.querySelector(\".blockid\").value) + '\"]').parentNode.style.left = i.filter(e => e.id == n)[0].x - 20 - (u + window.scrollX) + s.scrollLeft + s.getBoundingClientRect().left + \"px\"), document.querySelector('.arrowid[value=\"' + parseInt(g.querySelector(\".blockid\").value) + '\"]').parentNode.style.top = i.filter(e => e.id == n)[0].y + i.filter(e => e.id == n)[0].height / 2 + s.getBoundingClientRect().top - p + \"px\";\n    }\n\n    function N(e, t, l, n) {\n      t < 0 ? (document.querySelector('.arrowid[value=\"' + n.id + '\"]').parentNode.style.left = e.x - 5 - (u + window.scrollX) + s.getBoundingClientRect().left + \"px\", document.querySelector('.arrowid[value=\"' + n.id + '\"]').parentNode.innerHTML = '<input type=\"hidden\" class=\"arrowid\" value=\"' + n.id + '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M' + (i.filter(e => e.id == n.parent)[0].x - e.x + 5) + \" 0L\" + (i.filter(e => e.id == n.parent)[0].x - e.x + 5) + \" \" + B / 2 + \"L5 \" + B / 2 + \"L5 \" + l + '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M0 ' + (l - 5) + \"H10L5 \" + l + \"L0 \" + (l - 5) + 'Z\" fill=\"#C5CCD0\"/></svg>') : (document.querySelector('.arrowid[value=\"' + n.id + '\"]').parentNode.style.left = i.filter(e => e.id == n.parent)[0].x - 20 - (u + window.scrollX) + s.getBoundingClientRect().left + \"px\", document.querySelector('.arrowid[value=\"' + n.id + '\"]').parentNode.innerHTML = '<input type=\"hidden\" class=\"arrowid\" value=\"' + n.id + '\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 0L20 ' + B / 2 + \"L\" + t + \" \" + B / 2 + \"L\" + t + \" \" + l + '\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M' + (t - 5) + \" \" + (l - 5) + \"H\" + (t + 5) + \"L\" + t + \" \" + l + \"L\" + (t - 5) + \" \" + (l - 5) + 'Z\" fill=\"#C5CCD0\"/></svg>');\n    }\n\n    function T(e, t, l) {\n      R || s.appendChild(e);\n\n      for (var o = 0, r = 0, d = 0; d < i.filter(e => e.parent == l[t]).length; d++) {\n        (f = i.filter(e => e.parent == l[t])[d]).childwidth > f.width ? o += f.childwidth + m : o += f.width + m;\n      }\n\n      o += parseInt(window.getComputedStyle(e).width);\n\n      for (d = 0; d < i.filter(e => e.parent == l[t]).length; d++) {\n        (f = i.filter(e => e.parent == l[t])[d]).childwidth > f.width ? (document.querySelector(\".blockid[value='\" + f.id + \"']\").parentNode.style.left = i.filter(e => e.id == l[t])[0].x - o / 2 + r + f.childwidth / 2 - f.width / 2 + \"px\", f.x = i.filter(e => e.parent == l[t])[0].x - o / 2 + r + f.childwidth / 2, r += f.childwidth + m) : (document.querySelector(\".blockid[value='\" + f.id + \"']\").parentNode.style.left = i.filter(e => e.id == l[t])[0].x - o / 2 + r + \"px\", f.x = i.filter(e => e.parent == l[t])[0].x - o / 2 + r + f.width / 2, r += f.width + m);\n      }\n\n      if (e.style.left = i.filter(e => e.id == l[t])[0].x - o / 2 + r - (window.scrollX + u) + s.scrollLeft + s.getBoundingClientRect().left + \"px\", e.style.top = i.filter(e => e.id == l[t])[0].y + i.filter(e => e.id == l[t])[0].height / 2 + B - (window.scrollY + p) + s.getBoundingClientRect().top + \"px\", R) {\n        n.filter(t => t.id == parseInt(e.querySelector(\".blockid\").value))[0].x = e.getBoundingClientRect().left + window.scrollX + parseInt(window.getComputedStyle(e).width) / 2 + s.scrollLeft - s.getBoundingClientRect().left, n.filter(t => t.id == parseInt(e.querySelector(\".blockid\").value))[0].y = e.getBoundingClientRect().top + window.scrollY + p + parseInt(window.getComputedStyle(e).height) / 2 + s.scrollTop - s.getBoundingClientRect().top, n.filter(t => t.id == e.querySelector(\".blockid\").value)[0].parent = l[t];\n\n        for (d = 0; d < n.length; d++) if (n[d].id != parseInt(e.querySelector(\".blockid\").value)) {\n          const e = document.querySelector(\".blockid[value='\" + n[d].id + \"']\").parentNode,\n                t = document.querySelector(\".arrowid[value='\" + n[d].id + \"']\").parentNode;\n          e.style.left = e.getBoundingClientRect().left + window.scrollX - (window.scrollX + s.getBoundingClientRect().left) + s.scrollLeft + \"px\", e.style.top = e.getBoundingClientRect().top + window.scrollY - (window.scrollY + s.getBoundingClientRect().top) + s.scrollTop + \"px\", t.style.left = t.getBoundingClientRect().left + window.scrollX - (window.scrollX + s.getBoundingClientRect().left) + s.scrollLeft + 20 + \"px\", t.style.top = t.getBoundingClientRect().top + window.scrollY - (window.scrollY + s.getBoundingClientRect().top) + s.scrollTop + \"px\", s.appendChild(e), s.appendChild(t), n[d].x = e.getBoundingClientRect().left + window.scrollX + parseInt(window.getComputedStyle(e).width) / 2 + s.scrollLeft - s.getBoundingClientRect().left, n[d].y = e.getBoundingClientRect().top + window.scrollY + parseInt(window.getComputedStyle(e).height) / 2 + s.scrollTop - s.getBoundingClientRect().top;\n        }\n\n        i = i.concat(n), n = [];\n      } else i.push({\n        childwidth: 0,\n        parent: l[t],\n        id: parseInt(e.querySelector(\".blockid\").value),\n        x: e.getBoundingClientRect().left + window.scrollX + parseInt(window.getComputedStyle(e).width) / 2 + s.scrollLeft - s.getBoundingClientRect().left,\n        y: e.getBoundingClientRect().top + window.scrollY + parseInt(window.getComputedStyle(e).height) / 2 + s.scrollTop - s.getBoundingClientRect().top,\n        width: parseInt(window.getComputedStyle(e).width),\n        height: parseInt(window.getComputedStyle(e).height)\n      });\n\n      var c = i.filter(t => t.id == parseInt(e.querySelector(\".blockid\").value))[0];\n\n      if (I(c, c.x - i.filter(e => e.id == l[t])[0].x + 20, B, l[t]), -1 != i.filter(e => e.id == l[t])[0].parent) {\n        for (var a = !1, g = l[t]; !a;) if (-1 == i.filter(e => e.id == g)[0].parent) a = !0;else {\n          var w = 0;\n\n          for (d = 0; d < i.filter(e => e.parent == g).length; d++) {\n            var f;\n            (f = i.filter(e => e.parent == g)[d]).childwidth > f.width ? d == i.filter(e => e.parent == g).length - 1 ? w += f.childwidth : w += f.childwidth + m : d == i.filter(e => e.parent == g).length - 1 ? w += f.width : w += f.width + m;\n          }\n\n          i.filter(e => e.id == g)[0].childwidth = w, g = i.filter(e => e.id == g)[0].parent;\n        }\n\n        i.filter(e => e.id == g)[0].childwidth = o;\n      }\n\n      R && (R = !1, e.classList.remove(\"dragging\")), D(), E();\n    }\n\n    function Y(e) {\n      if (S = !1, M(e.target, \"block\")) {\n        var t = e.target.closest(\".block\");\n        e.targetTouches ? (y = e.targetTouches[0].clientX, C = e.targetTouches[0].clientY) : (y = e.clientX, C = e.clientY), \"mouseup\" !== e.type && M(e.target, \"block\") && 3 != e.which && (v || R || (S = !0, w = y - ((g = t).getBoundingClientRect().left + window.scrollX), f = C - (g.getBoundingClientRect().top + window.scrollY)));\n      }\n    }\n\n    function M(e, t) {\n      return !!(e.className && e.className.split(\" \").indexOf(t) >= 0) || e.parentNode && M(e.parentNode, t);\n    }\n\n    function E() {\n      x = i.map(e => e.x);\n      var e = i.map(e => e.width),\n          t = x.map(function (t, l) {\n        return t - e[l] / 2;\n      });\n\n      if ((x = Math.min.apply(Math, t)) < s.getBoundingClientRect().left + window.scrollX - u) {\n        for (var l = i.map(e => e.id), n = 0; n < i.length; n++) if (document.querySelector(\".blockid[value='\" + i.filter(e => e.id == l[n])[0].id + \"']\").parentNode.style.left = i.filter(e => e.id == l[n])[0].x - i.filter(e => e.id == l[n])[0].width / 2 - x + s.getBoundingClientRect().left - u + 20 + \"px\", -1 != i.filter(e => e.id == l[n])[0].parent) {\n          var o = i.filter(e => e.id == l[n])[0],\n              r = o.x - i.filter(e => e.id == i.filter(e => e.id == l[n])[0].parent)[0].x;\n          document.querySelector('.arrowid[value=\"' + l[n] + '\"]').parentNode.style.left = r < 0 ? o.x - x + 20 - 5 + s.getBoundingClientRect().left - u + \"px\" : i.filter(e => e.id == i.filter(e => e.id == l[n])[0].parent)[0].x - 20 - x + s.getBoundingClientRect().left - u + 20 + \"px\";\n        }\n\n        for (n = 0; n < i.length; n++) i[n].x = document.querySelector(\".blockid[value='\" + i[n].id + \"']\").parentNode.getBoundingClientRect().left + window.scrollX + s.scrollLeft + parseInt(window.getComputedStyle(document.querySelector(\".blockid[value='\" + i[n].id + \"']\").parentNode).width) / 2 - 20 - s.getBoundingClientRect().left;\n      }\n    }\n\n    function D() {\n      for (var e = i.map(e => e.parent), t = 0; t < e.length; t++) {\n        -1 == e[t] && t++;\n\n        for (var l = 0, n = 0, o = 0; o < i.filter(l => l.parent == e[t]).length; o++) {\n          var r = i.filter(l => l.parent == e[t])[o];\n          0 == i.filter(e => e.parent == r.id).length && (r.childwidth = 0), r.childwidth > r.width ? o == i.filter(l => l.parent == e[t]).length - 1 ? l += r.childwidth : l += r.childwidth + m : o == i.filter(l => l.parent == e[t]).length - 1 ? l += r.width : l += r.width + m;\n        }\n\n        -1 != e[t] && (i.filter(l => l.id == e[t])[0].childwidth = l);\n\n        for (o = 0; o < i.filter(l => l.parent == e[t]).length; o++) {\n          r = i.filter(l => l.parent == e[t])[o];\n          const c = document.querySelector(\".blockid[value='\" + r.id + \"']\").parentNode,\n                a = i.filter(l => l.id == e[t]);\n          c.style.top = a.y + B + s.getBoundingClientRect().top - p + \"px\", a.y = a.y + B, r.childwidth > r.width ? (c.style.left = a[0].x - l / 2 + n + r.childwidth / 2 - r.width / 2 - (u + window.scrollX) + s.getBoundingClientRect().left + \"px\", r.x = a[0].x - l / 2 + n + r.childwidth / 2, n += r.childwidth + m) : (c.style.left = a[0].x - l / 2 + n - (u + window.scrollX) + s.getBoundingClientRect().left + \"px\", r.x = a[0].x - l / 2 + n + r.width / 2, n += r.width + m);\n          var d = i.filter(e => e.id == r.id)[0];\n          N(d, d.x - i.filter(e => e.id == r.parent)[0].x + 20, B, r);\n        }\n      }\n    }\n  }, flowy.load();\n};","map":{"version":3,"sources":["/home/smitha/Desktop/flowy/src/flowy.min.js"],"names":["flowy","e","t","l","i","n","o","r","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","closest","call","parentElement","parentNode","nodeType","d","c","a","load","s","u","p","window","getComputedStyle","position","getBoundingClientRect","left","top","g","w","f","h","y","C","v","m","B","x","R","S","b","L","document","createElement","classList","add","appendChild","import","innerHTML","html","blockarr","length","push","childwidth","parseFloat","parent","id","width","height","D","E","output","blocks","data","attr","querySelector","querySelectorAll","forEach","getAttribute","value","name","Array","slice","attributes","deleteBlocks","beginDrag","targetTouches","changedTouches","clientX","clientY","which","target","cloneNode","remove","body","Math","max","apply","map","parseInt","style","endDrag","contains","X","scrollY","scrollX","q","k","T","filter","indexOf","moveBlock","includes","scrollLeft","scrollTop","offsetWidth","offsetHeight","addEventListener","Y","removeChild","concat","I","N","M","type","className","split","min"],"mappings":"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","sourcesContent":["export var flowy=function(e,t,l,i,n,o,r){t||(t=function(){}),l||(l=function(){}),i||(i=function(){return!0}),n||(n=function(){return!1}),o||(o=20),r||(r=80),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var d=!1;function c(e,t,l){return i(e,t,l)}function a(e,t){return n(e,t)}flowy.load=function(){if(!d){d=!0;var i=[],n=[],s=e,u=0,p=0;\"absolute\"!=window.getComputedStyle(s).position&&\"fixed\"!=window.getComputedStyle(s).position||(u=s.getBoundingClientRect().left,p=s.getBoundingClientRect().top);var g,w,f,h,y,C,v=!1,m=o,B=r,x=0,R=!1,S=!1,b=0,L=document.createElement(\"DIV\");L.classList.add(\"indicator\"),L.classList.add(\"invisible\"),s.appendChild(L),flowy.import=function(e){s.innerHTML=e.html;for(var t=0;t<e.blockarr.length;t++)i.push({childwidth:parseFloat(e.blockarr[t].childwidth),parent:parseFloat(e.blockarr[t].parent),id:parseFloat(e.blockarr[t].id),x:parseFloat(e.blockarr[t].x),y:parseFloat(e.blockarr[t].y),width:parseFloat(e.blockarr[t].width),height:parseFloat(e.blockarr[t].height)});i.length>1&&(D(),E())},flowy.output=function(){var e={html:s.innerHTML,blockarr:i,blocks:[]};if(i.length>0){for(var t=0;t<i.length;t++){e.blocks.push({id:i[t].id,parent:i[t].parent,data:[],attr:[]});var l=document.querySelector(\".blockid[value='\"+i[t].id+\"']\").parentNode;l.querySelectorAll(\"input\").forEach(function(l){var i=l.getAttribute(\"name\"),n=l.value;e.blocks[t].data.push({name:i,value:n})}),Array.prototype.slice.call(l.attributes).forEach(function(l){var i={};i[l.name]=l.value,e.blocks[t].attr.push(i)})}return e}},flowy.deleteBlocks=function(){i=[],s.innerHTML=\"<div class='indicator invisible'></div>\"},flowy.beginDrag=function(e){if(\"absolute\"!=window.getComputedStyle(s).position&&\"fixed\"!=window.getComputedStyle(s).position||(u=s.getBoundingClientRect().left,p=s.getBoundingClientRect().top),e.targetTouches?(y=e.changedTouches[0].clientX,C=e.changedTouches[0].clientY):(y=e.clientX,C=e.clientY),3!=e.which&&e.target.closest(\".create-flowy\")){h=e.target.closest(\".create-flowy\");var l=e.target.closest(\".create-flowy\").cloneNode(!0);e.target.closest(\".create-flowy\").classList.add(\"dragnow\"),l.classList.add(\"block\"),l.classList.remove(\"create-flowy\"),0===i.length?(l.innerHTML+=\"<input type='hidden' name='blockid' class='blockid' value='\"+i.length+\"'>\",document.body.appendChild(l),g=document.querySelector(\".blockid[value='\"+i.length+\"']\").parentNode):(l.innerHTML+=\"<input type='hidden' name='blockid' class='blockid' value='\"+(Math.max.apply(Math,i.map(e=>e.id))+1)+\"'>\",document.body.appendChild(l),g=document.querySelector(\".blockid[value='\"+(parseInt(Math.max.apply(Math,i.map(e=>e.id)))+1)+\"']\").parentNode),n=e.target.closest(\".create-flowy\"),t(n),g.classList.add(\"dragging\"),v=!0,w=y-e.target.closest(\".create-flowy\").getBoundingClientRect().left,f=C-e.target.closest(\".create-flowy\").getBoundingClientRect().top,g.style.left=y-w+\"px\",g.style.top=C-f+\"px\"}var n},flowy.endDrag=function(e){if(3!=e.which&&(v||R))if(S=!1,l(),document.querySelector(\".indicator\").classList.contains(\"invisible\")||document.querySelector(\".indicator\").classList.add(\"invisible\"),v&&(h.classList.remove(\"dragnow\"),g.classList.remove(\"dragging\")),0===parseInt(g.querySelector(\".blockid\").value)&&R)X(\"rearrange\");else if(v&&0==i.length&&g.getBoundingClientRect().top+window.scrollY>s.getBoundingClientRect().top+window.scrollY&&g.getBoundingClientRect().left+window.scrollX>s.getBoundingClientRect().left+window.scrollX)X(\"drop\");else if(v&&0==i.length)q();else if(v)for(var t=i.map(e=>e.id),o=0;o<i.length;o++){if(k(t[o])){v=!1,c(g,!1,document.querySelector(\".blockid[value='\"+t[o]+\"']\").parentNode)?T(g,o,t):(v=!1,q());break}o==i.length-1&&(v=!1,q())}else if(R)for(t=i.map(e=>e.id),o=0;o<i.length;o++){if(k(t[o])){v=!1,g.classList.remove(\"dragging\"),T(g,o,t);break}if(o==i.length-1){if(a(g,i.filter(e=>e.id==t[o])[0])){v=!1,g.classList.remove(\"dragging\"),T(g,t.indexOf(b),t);break}R=!1,n=[],v=!1,q();break}}},flowy.moveBlock=function(e){if(e.targetTouches?(y=e.targetTouches[0].clientX,C=e.targetTouches[0].clientY):(y=e.clientX,C=e.clientY),S){R=!0,g.classList.add(\"dragging\");var t=parseInt(g.querySelector(\".blockid\").value);b=i.filter(e=>e.id==t)[0].parent,n.push(i.filter(e=>e.id==t)[0]),i=i.filter(function(e){return e.id!=t}),0!=t&&document.querySelector(\".arrowid[value='\"+t+\"']\").parentNode.remove();for(var l=i.filter(e=>e.parent==t),o=!1,r=[],d=[];!o;){for(var c=0;c<l.length;c++)if(l[c]!=t){n.push(i.filter(e=>e.id==l[c].id)[0]);const e=document.querySelector(\".blockid[value='\"+l[c].id+\"']\").parentNode,t=document.querySelector(\".arrowid[value='\"+l[c].id+\"']\").parentNode;e.style.left=e.getBoundingClientRect().left+window.scrollX-(g.getBoundingClientRect().left+window.scrollX)+\"px\",e.style.top=e.getBoundingClientRect().top+window.scrollY-(g.getBoundingClientRect().top+window.scrollY)+\"px\",t.style.left=t.getBoundingClientRect().left+window.scrollX-(g.getBoundingClientRect().left+window.scrollX)+\"px\",t.style.top=t.getBoundingClientRect().top+window.scrollY-(g.getBoundingClientRect().top+window.scrollY)+\"px\",g.appendChild(e),g.appendChild(t),r.push(l[c].id),d.push(l[c].id)}0==r.length?o=!0:(l=i.filter(e=>r.includes(e.parent)),r=[])}for(c=0;c<i.filter(e=>e.parent==t).length;c++){var a=i.filter(e=>e.parent==t)[c];i=i.filter(function(e){return e.id!=a})}for(c=0;c<d.length;c++){a=d[c];i=i.filter(function(e){return e.id!=a})}i.length>1&&D(),S=!1}if(v?(g.style.left=y-w+\"px\",g.style.top=C-f+\"px\"):R&&(g.style.left=y-w-(window.scrollX+u)+s.scrollLeft+\"px\",g.style.top=C-f-(window.scrollY+p)+s.scrollTop+\"px\",n.filter(e=>e.id==parseInt(g.querySelector(\".blockid\").value)).x=g.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(g).width)/2+s.scrollLeft,n.filter(e=>e.id==parseInt(g.querySelector(\".blockid\").value)).y=g.getBoundingClientRect().top+window.scrollY+parseInt(window.getComputedStyle(g).height)/2+s.scrollTop),v||R){y>s.getBoundingClientRect().width+s.getBoundingClientRect().left-10&&y<s.getBoundingClientRect().width+s.getBoundingClientRect().left+10?s.scrollLeft+=10:y<s.getBoundingClientRect().left+10&&y>s.getBoundingClientRect().left-10?s.scrollLeft-=10:C>s.getBoundingClientRect().height+s.getBoundingClientRect().top-10&&C<s.getBoundingClientRect().height+s.getBoundingClientRect().top+10?s.scrollTop+=10:C<s.getBoundingClientRect().top+10&&C>s.getBoundingClientRect().top-10&&(s.scrollLeft-=10);g.getBoundingClientRect().left,window.scrollX,parseInt(window.getComputedStyle(g).width),s.scrollLeft,s.getBoundingClientRect().left,g.getBoundingClientRect().top,window.scrollY,s.scrollTop,s.getBoundingClientRect().top;var h=i.map(e=>e.id);for(c=0;c<i.length;c++){if(k(h[c])){document.querySelector(\".blockid[value='\"+h[c]+\"']\").parentNode.appendChild(document.querySelector(\".indicator\")),document.querySelector(\".indicator\").style.left=document.querySelector(\".blockid[value='\"+h[c]+\"']\").parentNode.offsetWidth/2-5+\"px\",document.querySelector(\".indicator\").style.top=document.querySelector(\".blockid[value='\"+h[c]+\"']\").parentNode.offsetHeight+\"px\",document.querySelector(\".indicator\").classList.remove(\"invisible\");break}c==i.length-1&&(document.querySelector(\".indicator\").classList.contains(\"invisible\")||document.querySelector(\".indicator\").classList.add(\"invisible\"))}}},document.addEventListener(\"mousedown\",flowy.beginDrag),document.addEventListener(\"mousedown\",Y,!1),document.addEventListener(\"touchstart\",flowy.beginDrag),document.addEventListener(\"touchstart\",Y,!1),document.addEventListener(\"mouseup\",Y,!1),document.addEventListener(\"mousemove\",flowy.moveBlock,!1),document.addEventListener(\"touchmove\",flowy.moveBlock,!1),document.addEventListener(\"mouseup\",flowy.endDrag,!1),document.addEventListener(\"touchend\",flowy.endDrag,!1)}function k(e){const t=g.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(g).width)/2+s.scrollLeft-s.getBoundingClientRect().left,l=g.getBoundingClientRect().top+window.scrollY+s.scrollTop-s.getBoundingClientRect().top;return t>=i.filter(t=>t.id==e)[0].x-i.filter(t=>t.id==e)[0].width/2-m&&t<=i.filter(t=>t.id==e)[0].x+i.filter(t=>t.id==e)[0].width/2+m&&l>=i.filter(t=>t.id==e)[0].y-i.filter(t=>t.id==e)[0].height/2&&l<=i.filter(t=>t.id==e)[0].y+i.filter(t=>t.id==e)[0].height}function q(){s.appendChild(document.querySelector(\".indicator\")),g.parentNode.removeChild(g)}function X(e){if(\"drop\"==e)c(g,!0,void 0),v=!1,g.style.top=g.getBoundingClientRect().top+window.scrollY-(p+window.scrollY)+s.scrollTop+\"px\",g.style.left=g.getBoundingClientRect().left+window.scrollX-(u+window.scrollX)+s.scrollLeft+\"px\",s.appendChild(g),i.push({parent:-1,childwidth:0,id:parseInt(g.querySelector(\".blockid\").value),x:g.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(g).width)/2+s.scrollLeft-s.getBoundingClientRect().left,y:g.getBoundingClientRect().top+window.scrollY+parseInt(window.getComputedStyle(g).height)/2+s.scrollTop-s.getBoundingClientRect().top,width:parseInt(window.getComputedStyle(g).width),height:parseInt(window.getComputedStyle(g).height)});else if(\"rearrange\"==e){g.classList.remove(\"dragging\"),R=!1;for(var t=0;t<n.length;t++)if(n[t].id!=parseInt(g.querySelector(\".blockid\").value)){const e=document.querySelector(\".blockid[value='\"+n[t].id+\"']\").parentNode,l=document.querySelector(\".arrowid[value='\"+n[t].id+\"']\").parentNode;e.style.left=e.getBoundingClientRect().left+window.scrollX-window.scrollX+s.scrollLeft-1-u+\"px\",e.style.top=e.getBoundingClientRect().top+window.scrollY-window.scrollY+s.scrollTop-p-1+\"px\",l.style.left=l.getBoundingClientRect().left+window.scrollX-window.scrollX+s.scrollLeft-u-1+\"px\",l.style.top=l.getBoundingClientRect().top+window.scrollY+s.scrollTop-1-p+\"px\",s.appendChild(e),s.appendChild(l),n[t].x=e.getBoundingClientRect().left+window.scrollX+parseInt(e.offsetWidth)/2+s.scrollLeft-s.getBoundingClientRect().left-1,n[t].y=e.getBoundingClientRect().top+window.scrollY+parseInt(e.offsetHeight)/2+s.scrollTop-s.getBoundingClientRect().top-1}n.filter(e=>0==e.id)[0].x=g.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(g).width)/2+s.scrollLeft-s.getBoundingClientRect().left,n.filter(e=>0==e.id)[0].y=g.getBoundingClientRect().top+window.scrollY+parseInt(window.getComputedStyle(g).height)/2+s.scrollTop-s.getBoundingClientRect().top,i=i.concat(n),n=[]}}function I(e,t,l,n){t<0?(s.innerHTML+='<div class=\"arrowblock\"><input type=\"hidden\" class=\"arrowid\" value=\"'+g.querySelector(\".blockid\").value+'\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M'+(i.filter(e=>e.id==n)[0].x-e.x+5)+\" 0L\"+(i.filter(e=>e.id==n)[0].x-e.x+5)+\" \"+B/2+\"L5 \"+B/2+\"L5 \"+l+'\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M0 '+(l-5)+\"H10L5 \"+l+\"L0 \"+(l-5)+'Z\" fill=\"#C5CCD0\"/></svg></div>',document.querySelector('.arrowid[value=\"'+g.querySelector(\".blockid\").value+'\"]').parentNode.style.left=e.x-5-(u+window.scrollX)+s.scrollLeft+s.getBoundingClientRect().left+\"px\"):(s.innerHTML+='<div class=\"arrowblock\"><input type=\"hidden\" class=\"arrowid\" value=\"'+g.querySelector(\".blockid\").value+'\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 0L20 '+B/2+\"L\"+t+\" \"+B/2+\"L\"+t+\" \"+l+'\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M'+(t-5)+\" \"+(l-5)+\"H\"+(t+5)+\"L\"+t+\" \"+l+\"L\"+(t-5)+\" \"+(l-5)+'Z\" fill=\"#C5CCD0\"/></svg></div>',document.querySelector('.arrowid[value=\"'+parseInt(g.querySelector(\".blockid\").value)+'\"]').parentNode.style.left=i.filter(e=>e.id==n)[0].x-20-(u+window.scrollX)+s.scrollLeft+s.getBoundingClientRect().left+\"px\"),document.querySelector('.arrowid[value=\"'+parseInt(g.querySelector(\".blockid\").value)+'\"]').parentNode.style.top=i.filter(e=>e.id==n)[0].y+i.filter(e=>e.id==n)[0].height/2+s.getBoundingClientRect().top-p+\"px\"}function N(e,t,l,n){t<0?(document.querySelector('.arrowid[value=\"'+n.id+'\"]').parentNode.style.left=e.x-5-(u+window.scrollX)+s.getBoundingClientRect().left+\"px\",document.querySelector('.arrowid[value=\"'+n.id+'\"]').parentNode.innerHTML='<input type=\"hidden\" class=\"arrowid\" value=\"'+n.id+'\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M'+(i.filter(e=>e.id==n.parent)[0].x-e.x+5)+\" 0L\"+(i.filter(e=>e.id==n.parent)[0].x-e.x+5)+\" \"+B/2+\"L5 \"+B/2+\"L5 \"+l+'\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M0 '+(l-5)+\"H10L5 \"+l+\"L0 \"+(l-5)+'Z\" fill=\"#C5CCD0\"/></svg>'):(document.querySelector('.arrowid[value=\"'+n.id+'\"]').parentNode.style.left=i.filter(e=>e.id==n.parent)[0].x-20-(u+window.scrollX)+s.getBoundingClientRect().left+\"px\",document.querySelector('.arrowid[value=\"'+n.id+'\"]').parentNode.innerHTML='<input type=\"hidden\" class=\"arrowid\" value=\"'+n.id+'\"><svg preserveaspectratio=\"none\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 0L20 '+B/2+\"L\"+t+\" \"+B/2+\"L\"+t+\" \"+l+'\" stroke=\"#C5CCD0\" stroke-width=\"2px\"/><path d=\"M'+(t-5)+\" \"+(l-5)+\"H\"+(t+5)+\"L\"+t+\" \"+l+\"L\"+(t-5)+\" \"+(l-5)+'Z\" fill=\"#C5CCD0\"/></svg>')}function T(e,t,l){R||s.appendChild(e);for(var o=0,r=0,d=0;d<i.filter(e=>e.parent==l[t]).length;d++){(f=i.filter(e=>e.parent==l[t])[d]).childwidth>f.width?o+=f.childwidth+m:o+=f.width+m}o+=parseInt(window.getComputedStyle(e).width);for(d=0;d<i.filter(e=>e.parent==l[t]).length;d++){(f=i.filter(e=>e.parent==l[t])[d]).childwidth>f.width?(document.querySelector(\".blockid[value='\"+f.id+\"']\").parentNode.style.left=i.filter(e=>e.id==l[t])[0].x-o/2+r+f.childwidth/2-f.width/2+\"px\",f.x=i.filter(e=>e.parent==l[t])[0].x-o/2+r+f.childwidth/2,r+=f.childwidth+m):(document.querySelector(\".blockid[value='\"+f.id+\"']\").parentNode.style.left=i.filter(e=>e.id==l[t])[0].x-o/2+r+\"px\",f.x=i.filter(e=>e.parent==l[t])[0].x-o/2+r+f.width/2,r+=f.width+m)}if(e.style.left=i.filter(e=>e.id==l[t])[0].x-o/2+r-(window.scrollX+u)+s.scrollLeft+s.getBoundingClientRect().left+\"px\",e.style.top=i.filter(e=>e.id==l[t])[0].y+i.filter(e=>e.id==l[t])[0].height/2+B-(window.scrollY+p)+s.getBoundingClientRect().top+\"px\",R){n.filter(t=>t.id==parseInt(e.querySelector(\".blockid\").value))[0].x=e.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(e).width)/2+s.scrollLeft-s.getBoundingClientRect().left,n.filter(t=>t.id==parseInt(e.querySelector(\".blockid\").value))[0].y=e.getBoundingClientRect().top+window.scrollY+p+parseInt(window.getComputedStyle(e).height)/2+s.scrollTop-s.getBoundingClientRect().top,n.filter(t=>t.id==e.querySelector(\".blockid\").value)[0].parent=l[t];for(d=0;d<n.length;d++)if(n[d].id!=parseInt(e.querySelector(\".blockid\").value)){const e=document.querySelector(\".blockid[value='\"+n[d].id+\"']\").parentNode,t=document.querySelector(\".arrowid[value='\"+n[d].id+\"']\").parentNode;e.style.left=e.getBoundingClientRect().left+window.scrollX-(window.scrollX+s.getBoundingClientRect().left)+s.scrollLeft+\"px\",e.style.top=e.getBoundingClientRect().top+window.scrollY-(window.scrollY+s.getBoundingClientRect().top)+s.scrollTop+\"px\",t.style.left=t.getBoundingClientRect().left+window.scrollX-(window.scrollX+s.getBoundingClientRect().left)+s.scrollLeft+20+\"px\",t.style.top=t.getBoundingClientRect().top+window.scrollY-(window.scrollY+s.getBoundingClientRect().top)+s.scrollTop+\"px\",s.appendChild(e),s.appendChild(t),n[d].x=e.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(e).width)/2+s.scrollLeft-s.getBoundingClientRect().left,n[d].y=e.getBoundingClientRect().top+window.scrollY+parseInt(window.getComputedStyle(e).height)/2+s.scrollTop-s.getBoundingClientRect().top}i=i.concat(n),n=[]}else i.push({childwidth:0,parent:l[t],id:parseInt(e.querySelector(\".blockid\").value),x:e.getBoundingClientRect().left+window.scrollX+parseInt(window.getComputedStyle(e).width)/2+s.scrollLeft-s.getBoundingClientRect().left,y:e.getBoundingClientRect().top+window.scrollY+parseInt(window.getComputedStyle(e).height)/2+s.scrollTop-s.getBoundingClientRect().top,width:parseInt(window.getComputedStyle(e).width),height:parseInt(window.getComputedStyle(e).height)});var c=i.filter(t=>t.id==parseInt(e.querySelector(\".blockid\").value))[0];if(I(c,c.x-i.filter(e=>e.id==l[t])[0].x+20,B,l[t]),-1!=i.filter(e=>e.id==l[t])[0].parent){for(var a=!1,g=l[t];!a;)if(-1==i.filter(e=>e.id==g)[0].parent)a=!0;else{var w=0;for(d=0;d<i.filter(e=>e.parent==g).length;d++){var f;(f=i.filter(e=>e.parent==g)[d]).childwidth>f.width?d==i.filter(e=>e.parent==g).length-1?w+=f.childwidth:w+=f.childwidth+m:d==i.filter(e=>e.parent==g).length-1?w+=f.width:w+=f.width+m}i.filter(e=>e.id==g)[0].childwidth=w,g=i.filter(e=>e.id==g)[0].parent}i.filter(e=>e.id==g)[0].childwidth=o}R&&(R=!1,e.classList.remove(\"dragging\")),D(),E()}function Y(e){if(S=!1,M(e.target,\"block\")){var t=e.target.closest(\".block\");e.targetTouches?(y=e.targetTouches[0].clientX,C=e.targetTouches[0].clientY):(y=e.clientX,C=e.clientY),\"mouseup\"!==e.type&&M(e.target,\"block\")&&3!=e.which&&(v||R||(S=!0,w=y-((g=t).getBoundingClientRect().left+window.scrollX),f=C-(g.getBoundingClientRect().top+window.scrollY)))}}function M(e,t){return!!(e.className&&e.className.split(\" \").indexOf(t)>=0)||e.parentNode&&M(e.parentNode,t)}function E(){x=i.map(e=>e.x);var e=i.map(e=>e.width),t=x.map(function(t,l){return t-e[l]/2});if((x=Math.min.apply(Math,t))<s.getBoundingClientRect().left+window.scrollX-u){for(var l=i.map(e=>e.id),n=0;n<i.length;n++)if(document.querySelector(\".blockid[value='\"+i.filter(e=>e.id==l[n])[0].id+\"']\").parentNode.style.left=i.filter(e=>e.id==l[n])[0].x-i.filter(e=>e.id==l[n])[0].width/2-x+s.getBoundingClientRect().left-u+20+\"px\",-1!=i.filter(e=>e.id==l[n])[0].parent){var o=i.filter(e=>e.id==l[n])[0],r=o.x-i.filter(e=>e.id==i.filter(e=>e.id==l[n])[0].parent)[0].x;document.querySelector('.arrowid[value=\"'+l[n]+'\"]').parentNode.style.left=r<0?o.x-x+20-5+s.getBoundingClientRect().left-u+\"px\":i.filter(e=>e.id==i.filter(e=>e.id==l[n])[0].parent)[0].x-20-x+s.getBoundingClientRect().left-u+20+\"px\"}for(n=0;n<i.length;n++)i[n].x=document.querySelector(\".blockid[value='\"+i[n].id+\"']\").parentNode.getBoundingClientRect().left+window.scrollX+s.scrollLeft+parseInt(window.getComputedStyle(document.querySelector(\".blockid[value='\"+i[n].id+\"']\").parentNode).width)/2-20-s.getBoundingClientRect().left}}function D(){for(var e=i.map(e=>e.parent),t=0;t<e.length;t++){-1==e[t]&&t++;for(var l=0,n=0,o=0;o<i.filter(l=>l.parent==e[t]).length;o++){var r=i.filter(l=>l.parent==e[t])[o];0==i.filter(e=>e.parent==r.id).length&&(r.childwidth=0),r.childwidth>r.width?o==i.filter(l=>l.parent==e[t]).length-1?l+=r.childwidth:l+=r.childwidth+m:o==i.filter(l=>l.parent==e[t]).length-1?l+=r.width:l+=r.width+m}-1!=e[t]&&(i.filter(l=>l.id==e[t])[0].childwidth=l);for(o=0;o<i.filter(l=>l.parent==e[t]).length;o++){r=i.filter(l=>l.parent==e[t])[o];const c=document.querySelector(\".blockid[value='\"+r.id+\"']\").parentNode,a=i.filter(l=>l.id==e[t]);c.style.top=a.y+B+s.getBoundingClientRect().top-p+\"px\",a.y=a.y+B,r.childwidth>r.width?(c.style.left=a[0].x-l/2+n+r.childwidth/2-r.width/2-(u+window.scrollX)+s.getBoundingClientRect().left+\"px\",r.x=a[0].x-l/2+n+r.childwidth/2,n+=r.childwidth+m):(c.style.left=a[0].x-l/2+n-(u+window.scrollX)+s.getBoundingClientRect().left+\"px\",r.x=a[0].x-l/2+n+r.width/2,n+=r.width+m);var d=i.filter(e=>e.id==r.id)[0];N(d,d.x-i.filter(e=>e.id==r.parent)[0].x+20,B,r)}}}},flowy.load()};"]},"metadata":{},"sourceType":"module"}